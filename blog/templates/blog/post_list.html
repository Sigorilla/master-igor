{% extends "base.html" %}

{% block page %}

{% regroup posts|dictsortreversed:"pub_date" by pub_date.year as by_year %}

{% for year in by_year %}
<article class="archive" data-year="{{ year.grouper }}">
  <h2>{{ year.grouper }}</h2>
  {% include "blog/post_iterator.html" with posts=year.list %}
</article>
{% empty %}
<article class="warning">
  <h2>Warning</h2>
  <p class="intro">Nothing is found.</p>
</article>
{% endfor %}

{% endblock page %}
